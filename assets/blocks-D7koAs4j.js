import{j as e,r as m,u as T,a as C,b as _,i as q,S as h,B as p,E as M,c as o,d as A,I as n}from"./index-CFHoSYU1.js";const a=({children:t,className:i=""})=>e.jsx("div",{className:`step-content w-full ${i}`,children:t});function Y({gateVarName:t,onReady:i}){const r=C(t,""),u=m.useRef(!1),l=r!==""&&r!==0&&r!==!1;return m.useEffect(()=>{if(l&&!u.current){u.current=!0;const x=setTimeout(i,700);return()=>clearTimeout(x)}},[l,i]),null}function D({label:t,onClick:i,gateVarName:r,isLast:u}){const l=C(r??"__step_no_gate__",""),x=!r||l!==""&&l!==0&&l!==!1;return u?null:e.jsxs("div",{className:"flex flex-col items-start gap-1.5 mt-4",children:[r&&!x&&e.jsx("p",{className:"text-xs text-[#3cc499]/70 italic",children:"Complete the activity above to continue."}),e.jsxs("button",{onClick:i,disabled:!x,className:`
                    inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium
                    bg-[#3cc499] text-white shadow
                    transition-all duration-150
                    hover:opacity-90 active:scale-95
                    disabled:opacity-30 disabled:cursor-not-allowed disabled:pointer-events-none
                    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#3cc499]
                    select-none
                `,children:[e.jsx("span",{children:t}),e.jsx("span",{className:"text-base leading-none",children:"→"})]})]})}const V=({children:t,className:i="",varName:r,revealLabel:u="Continue",showProgress:l=!0,allowBack:x=!1,onStepReveal:j})=>{const k=m.Children.toArray(t),g=k.length,[v,B]=m.useState(0),I=T(),y=m.useCallback(s=>{s<0||s>=g||(B(s),r&&I(r,s),j==null||j(s))},[g,r,I,j]),Q=m.useCallback(s=>y(s+1),[y]),P=m.useCallback(s=>y(Math.max(0,s-1)),[y]),E=s=>m.isValidElement(s)&&s.type===a?s.props:{},F=l&&g>1&&e.jsxs("div",{className:"mb-5 text-xs font-medium text-[#3cc499]/60 tracking-wide select-none",children:["Step ",v+1," / ",g]});return e.jsxs("div",{className:`w-full flex flex-col ${i}`,"data-layout-type":"step","data-layout-total":g,"data-layout-revealed":v,children:[F,e.jsx("div",{className:"flex flex-col",children:k.map((s,b)=>{const N=b===v,z=b>v,W=b===g-1,f=E(s),L=f.revealLabel??u,S=!!f.autoAdvance&&!!f.completionVarName;return z?null:e.jsxs("div",{className:`
                                w-full
                                animate-in fade-in slide-in-from-bottom-3 duration-500
                                ${b>0?"pt-6 mt-2":""}
                            `,children:[e.jsx("div",{children:s}),N&&S&&!W&&e.jsx(Y,{gateVarName:f.completionVarName,onReady:()=>Q(b)}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[N&&!S&&e.jsx(D,{label:L,onClick:()=>Q(b),gateVarName:f.completionVarName,isLast:W}),x&&b>0&&N&&e.jsxs("button",{onClick:()=>P(b),className:`
                                            inline-flex items-center gap-1.5 mt-4 px-3 py-2 rounded-xl
                                            text-xs font-medium text-[#3cc499]
                                            border border-[#3cc499]/30 bg-background
                                            hover:bg-[#3cc499]/10
                                            transition-all duration-150 select-none
                                            focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#3cc499]
                                        `,children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Back"})]})]})]},b)})})]})},w={quizProgress:{defaultValue:0,type:"number",label:"Quiz Progress",description:"Tracks the current step in the quiz",min:0,max:10,step:1},add1:{defaultValue:"",type:"text",label:"Addition Question 1",description:"5 + 3 = ?",placeholder:"?",correctAnswer:"8",color:"#10B981",bgColor:"rgba(16, 185, 129, 0.15)"},add2:{defaultValue:"",type:"text",label:"Addition Question 2",description:"7 + 6 = ?",placeholder:"?",correctAnswer:"13",color:"#10B981",bgColor:"rgba(16, 185, 129, 0.15)"},add3:{defaultValue:"",type:"text",label:"Addition Question 3",description:"9 + 4 = ?",placeholder:"?",correctAnswer:"13",color:"#10B981",bgColor:"rgba(16, 185, 129, 0.15)"},add4:{defaultValue:"",type:"text",label:"Addition Question 4",description:"8 + 7 = ?",placeholder:"?",correctAnswer:"15",color:"#10B981",bgColor:"rgba(16, 185, 129, 0.15)"},sub1:{defaultValue:"",type:"text",label:"Subtraction Question 1",description:"12 - 5 = ?",placeholder:"?",correctAnswer:"7",color:"#8B5CF6",bgColor:"rgba(139, 92, 246, 0.15)"},sub2:{defaultValue:"",type:"text",label:"Subtraction Question 2",description:"15 - 8 = ?",placeholder:"?",correctAnswer:"7",color:"#8B5CF6",bgColor:"rgba(139, 92, 246, 0.15)"},sub3:{defaultValue:"",type:"text",label:"Subtraction Question 3",description:"18 - 9 = ?",placeholder:"?",correctAnswer:"9",color:"#8B5CF6",bgColor:"rgba(139, 92, 246, 0.15)"},sub4:{defaultValue:"",type:"text",label:"Subtraction Question 4",description:"14 - 6 = ?",placeholder:"?",correctAnswer:"8",color:"#8B5CF6",bgColor:"rgba(139, 92, 246, 0.15)"},mix1:{defaultValue:"",type:"text",label:"Mixed Question 1",description:"6 + 9 = ?",placeholder:"?",correctAnswer:"15",color:"#F59E0B",bgColor:"rgba(245, 158, 11, 0.15)"},mix2:{defaultValue:"",type:"text",label:"Mixed Question 2",description:"17 - 8 = ?",placeholder:"?",correctAnswer:"9",color:"#F59E0B",bgColor:"rgba(245, 158, 11, 0.15)"}},c=t=>w[t],$=()=>{const t={};for(const[i,r]of Object.entries(w))t[i]=r.defaultValue;return t};function d(t){return!t||t.type!=="text"?{}:{...t.placeholder?{placeholder:t.placeholder}:{},...t.color?{color:t.color}:{},...t.bgColor?{bgColor:t.bgColor}:{},...t.caseSensitive!==void 0?{caseSensitive:t.caseSensitive}:{}}}const H=({questionVarNames:t,label:i="Your Score:"})=>{var l;const r=t.length;let u=0;for(const x of t){const j=C(x,""),k=((l=w[x])==null?void 0:l.correctAnswer)||"";j.trim().toLowerCase()===k.trim().toLowerCase()&&u++}return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx("span",{className:"text-lg text-muted-foreground mb-2",children:i}),e.jsxs("span",{className:"text-4xl font-bold text-primary",children:[u," out of ",r]})]})};_.getState().initialize($());q(w);const G=[e.jsx(h,{maxWidth:"xl",children:e.jsx(p,{id:"block-title",padding:"lg",children:e.jsx(M,{id:"h1-title",blockId:"block-title",children:"Maths Quiz Time!"})})},"layout-title"),e.jsx(h,{maxWidth:"xl",children:e.jsx(p,{id:"block-intro",padding:"sm",children:e.jsx(o,{id:"para-intro",blockId:"block-intro",children:"Welcome! Let's practice addition and subtraction. Type your answer in the box and watch what happens when you get it right!"})})},"layout-intro"),e.jsx(h,{maxWidth:"xl",children:e.jsx(p,{id:"block-section1-header",padding:"md",children:e.jsx(A,{id:"h2-section1",blockId:"block-section1-header",children:"Part 1: Addition"})})},"layout-section1-header"),e.jsx(h,{maxWidth:"xl",children:e.jsx(p,{id:"block-addition-steps",padding:"sm",children:e.jsxs(V,{varName:"quizProgress",showProgress:!0,children:[e.jsx(a,{completionVarName:"add1",autoAdvance:!0,children:e.jsxs(o,{id:"para-add1",blockId:"block-addition-steps",children:[e.jsx("strong",{children:"Question 1:"})," What is 5 + 3 = "," ",e.jsx(n,{varName:"add1",correctAnswer:"8",...d(c("add1"))})]})}),e.jsx(a,{completionVarName:"add2",autoAdvance:!0,children:e.jsxs(o,{id:"para-add2",blockId:"block-addition-steps",children:[e.jsx("strong",{children:"Question 2:"})," What is 7 + 6 = "," ",e.jsx(n,{varName:"add2",correctAnswer:"13",...d(c("add2"))})]})}),e.jsx(a,{completionVarName:"add3",autoAdvance:!0,children:e.jsxs(o,{id:"para-add3",blockId:"block-addition-steps",children:[e.jsx("strong",{children:"Question 3:"})," What is 9 + 4 = "," ",e.jsx(n,{varName:"add3",correctAnswer:"13",...d(c("add3"))})]})}),e.jsx(a,{completionVarName:"add4",autoAdvance:!0,children:e.jsxs(o,{id:"para-add4",blockId:"block-addition-steps",children:[e.jsx("strong",{children:"Question 4:"})," What is 8 + 7 = "," ",e.jsx(n,{varName:"add4",correctAnswer:"15",...d(c("add4"))})]})}),e.jsx(a,{children:e.jsx(o,{id:"para-add-complete",blockId:"block-addition-steps",children:"Excellent work on addition! You're ready for subtraction."})})]})})},"layout-addition-steps"),e.jsx(h,{maxWidth:"xl",children:e.jsx(p,{id:"block-section2-header",padding:"md",children:e.jsx(A,{id:"h2-section2",blockId:"block-section2-header",children:"Part 2: Subtraction"})})},"layout-section2-header"),e.jsx(h,{maxWidth:"xl",children:e.jsx(p,{id:"block-subtraction-steps",padding:"sm",children:e.jsxs(V,{showProgress:!0,children:[e.jsx(a,{completionVarName:"sub1",autoAdvance:!0,children:e.jsxs(o,{id:"para-sub1",blockId:"block-subtraction-steps",children:[e.jsx("strong",{children:"Question 5:"})," What is 12 - 5 = "," ",e.jsx(n,{varName:"sub1",correctAnswer:"7",...d(c("sub1"))})]})}),e.jsx(a,{completionVarName:"sub2",autoAdvance:!0,children:e.jsxs(o,{id:"para-sub2",blockId:"block-subtraction-steps",children:[e.jsx("strong",{children:"Question 6:"})," What is 15 - 8 = "," ",e.jsx(n,{varName:"sub2",correctAnswer:"7",...d(c("sub2"))})]})}),e.jsx(a,{completionVarName:"sub3",autoAdvance:!0,children:e.jsxs(o,{id:"para-sub3",blockId:"block-subtraction-steps",children:[e.jsx("strong",{children:"Question 7:"})," What is 18 - 9 = "," ",e.jsx(n,{varName:"sub3",correctAnswer:"9",...d(c("sub3"))})]})}),e.jsx(a,{completionVarName:"sub4",autoAdvance:!0,children:e.jsxs(o,{id:"para-sub4",blockId:"block-subtraction-steps",children:[e.jsx("strong",{children:"Question 8:"})," What is 14 - 6 = "," ",e.jsx(n,{varName:"sub4",correctAnswer:"8",...d(c("sub4"))})]})}),e.jsx(a,{children:e.jsx(o,{id:"para-sub-complete",blockId:"block-subtraction-steps",children:"Great job! Now let's try some mixed questions."})})]})})},"layout-subtraction-steps"),e.jsx(h,{maxWidth:"xl",children:e.jsx(p,{id:"block-section3-header",padding:"md",children:e.jsx(A,{id:"h2-section3",blockId:"block-section3-header",children:"Part 3: Mixed Challenge"})})},"layout-section3-header"),e.jsx(h,{maxWidth:"xl",children:e.jsx(p,{id:"block-mixed-steps",padding:"sm",children:e.jsxs(V,{showProgress:!0,children:[e.jsx(a,{completionVarName:"mix1",autoAdvance:!0,children:e.jsxs(o,{id:"para-mix1",blockId:"block-mixed-steps",children:[e.jsx("strong",{children:"Question 9:"})," What is 6 + 9 = "," ",e.jsx(n,{varName:"mix1",correctAnswer:"15",...d(c("mix1"))})]})}),e.jsx(a,{completionVarName:"mix2",autoAdvance:!0,children:e.jsxs(o,{id:"para-mix2",blockId:"block-mixed-steps",children:[e.jsx("strong",{children:"Question 10:"})," What is 17 - 8 = "," ",e.jsx(n,{varName:"mix2",correctAnswer:"9",...d(c("mix2"))})]})}),e.jsx(a,{children:e.jsx(o,{id:"para-complete",blockId:"block-mixed-steps",children:"You did it! You completed all 10 questions. Well done!"})})]})})},"layout-mixed-steps"),e.jsx(h,{maxWidth:"xl",children:e.jsxs(p,{id:"block-final-score",padding:"lg",children:[e.jsx(A,{id:"h2-final-score",blockId:"block-final-score",children:"Final Score"}),e.jsx(H,{questionVarNames:["add1","add2","add3","add4","sub1","sub2","sub3","sub4","mix1","mix2"],label:"Your Score:"})]})},"layout-final-score")];export{G as blocks};
